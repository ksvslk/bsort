import { Component, OnInit, VERSION } from '@angular/core';
import {  RouterModule, RouterOutlet } from '@angular/router';
import { filter } from 'rxjs/operators';
import { Router, NavigationEnd } from '@angular/router';
import { MatIconModule, MatIconRegistry } from '@angular/material/icon';
import { DomSanitizer } from '@angular/platform-browser';

const COFFEE_ICON =
  `
  <svg
  xmlns="http://www.w3.org/2000/svg"
  width={64}
  height={64}
  viewBox="0 0 32 32"
  fill="none"
  {...props}
>
  <path
    fill="#0d0c22"
    d="m24.52 7.444-.023-.013-.05-.016a.12.12 0 0 0 .072.029zM24.84 9.73l-.025.007z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
  <path
    fill="#0d0c22"
    d="M24.529 7.44a.046.046 0 0 1-.01-.002v.006a.019.019 0 0 0 .01-.004z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
  <path
    fill="#0d0c22"
    d="M24.52 7.444h.003v-.002zM24.82 9.726l.037-.021.013-.008.013-.013a.211.211 0 0 0-.063.042zM24.583 7.494l-.036-.035-.024-.013c.013.023.035.04.06.048zM15.485 29.678a.189.189 0 0 0-.074.056l.023-.014.051-.042zM20.768 28.638c0-.032-.016-.026-.012.09 0-.01.004-.02.006-.028l.006-.062zM20.22 29.678a.189.189 0 0 0-.073.056l.023-.014c.015-.014.037-.031.05-.042zM11.764 29.925a.158.158 0 0 0-.077-.036c.023.01.046.022.062.03zM10.927 29.123a.249.249 0 0 0-.03-.096c.011.03.021.062.03.094z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
  <path
    fill="#fd0"
    d="M16.551 14.782c-1.15.492-2.454 1.05-4.144 1.05a7.846 7.846 0 0 1-2.093-.288l1.17 12.004a2.006 2.006 0 0 0 1.999 1.841s1.658.086 2.21.086c.596 0 2.381-.086 2.381-.086a2.006 2.006 0 0 0 2-1.84l1.252-13.266c-.56-.191-1.125-.318-1.762-.318-1.1 0-1.988.379-3.013.817z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
  <path
    fill="#0d0c22"
    d="m6.695 9.66.02.02.013.007a.197.197 0 0 0-.033-.026z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
  <path
    fill="#0d0c22"
    d="m26.732 8.553-.176-.888c-.158-.797-.516-1.55-1.334-1.838-.262-.092-.56-.132-.76-.322-.202-.191-.261-.487-.308-.762-.086-.504-.167-1.009-.255-1.512-.076-.433-.136-.919-.335-1.316-.258-.532-.794-.844-1.327-1.05a7.643 7.643 0 0 0-.835-.259c-1.331-.35-2.731-.48-4.101-.554a34.433 34.433 0 0 0-4.933.082C11.147.245 9.86.38 8.7.802c-.424.154-.861.34-1.184.667-.395.403-.524 1.026-.236 1.527.206.357.554.609.923.775.48.215.982.378 1.497.488 1.433.317 2.918.44 4.383.494 1.623.065 3.249.012 4.864-.159.4-.044.799-.097 1.197-.158.468-.072.77-.685.631-1.112-.165-.51-.61-.709-1.112-.631l-.222.033-.053.007a27.099 27.099 0 0 1-1.568.153 35.549 35.549 0 0 1-4.714.009 29.714 29.714 0 0 1-1.542-.143l-.153-.019-.033-.005-.158-.023a16.649 16.649 0 0 1-.965-.172.145.145 0 0 1 0-.283h.006a15.666 15.666 0 0 1 1.116-.196h.003c.175-.012.351-.043.526-.064a33.43 33.43 0 0 1 4.567-.161 30.738 30.738 0 0 1 2.69.193l.181.023.122.018c.357.053.711.117 1.064.193.523.114 1.194.15 1.426.723.074.182.108.384.149.574l.052.244a.314.314 0 0 1 .108 2.114h-.004l-.075.01-.075.01c-.236.03-.472.06-.708.086a48.969 48.969 0 0 1-5.615.307 49.437 49.437 0 0 1-6.264-.405c.158.02-.115-.015-.17-.023l-.387-.057c-.434-.065-.865-.145-1.297-.215-.523-.086-1.023-.043-1.497.215a2.177 2.177 0 0 0-.9.935c-.205.422-.265.88-.357 1.334-.09.453-.233.941-.18 1.407.117 1.004.819 1.82 1.829 2.003a52.911 52.911 0 0 0 15.122.501.646.646 0 0 1 .713.708l-.095.929a381994.077 381994.077 0 0 1-1.357 13.208c-.055.547-.063 1.11-.167 1.65-.163.85-.738 1.37-1.576 1.561-.769.175-1.554.267-2.341.274-.874.005-1.747-.034-2.62-.03-.933.006-2.075-.08-2.795-.774-.632-.61-.72-1.564-.806-2.39-.115-1.092-.228-2.185-.341-3.277l-.633-6.074-.41-3.93-.02-.194c-.049-.47-.38-.928-.904-.904-.447.02-.956.4-.904.904l.304 2.913.627 6.027c.18 1.712.358 3.424.536 5.137.034.328.066.657.102.985.197 1.793 1.566 2.759 3.262 3.03.99.16 2.004.193 3.009.209 1.288.02 2.589.07 3.856-.163 1.877-.345 3.286-1.598 3.487-3.543l.172-1.684.572-5.573.622-6.07.285-2.782a.646.646 0 0 1 .52-.568c.537-.104 1.05-.283 1.432-.692.608-.65.73-1.498.514-2.353zm-20.194.6c.009-.004-.007.066-.013.099-.001-.05.001-.093.013-.099zm.052.403c.005-.003.018.014.031.035-.02-.02-.033-.033-.031-.035zm.052.068c.018.03.028.05 0 0zm.103.083h.002c0 .003.005.006.007.01a.066.066 0 0 0-.01-.01zm18.017-.125c-.193.184-.484.269-.77.311-3.221.478-6.488.72-9.743.613-2.33-.08-4.636-.338-6.942-.664-.226-.032-.471-.073-.627-.24-.292-.314-.149-.947-.072-1.326.07-.348.203-.812.617-.861.645-.076 1.395.196 2.034.293.77.118 1.541.212 2.316.282a44.72 44.72 0 0 0 9.962-.186c.6-.08 1.198-.175 1.794-.281.531-.095 1.12-.274 1.44.276.22.374.25.875.215 1.298a.724.724 0 0 1-.225.485z"
    style={{
      strokeWidth: 0.0250195,
    }}
  />
</svg>
`;


@Component({
  standalone: true,
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
  imports: [RouterOutlet, RouterModule, MatIconModule]
})
export class AppComponent implements OnInit {
  
  currentUrl$: string = "";

  constructor(iconRegistry: MatIconRegistry, sanitizer: DomSanitizer, private router: Router) {
    iconRegistry.addSvgIconLiteral('coffee-icon', sanitizer.bypassSecurityTrustHtml(COFFEE_ICON));
  }

  ngOnInit() {
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd)
    ).subscribe(navEnd => {
      this.currentUrl$ = (navEnd as NavigationEnd).url;
    })
  }
 
}
